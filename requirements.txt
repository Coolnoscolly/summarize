annotated-types==0.7.0
anyio==4.11.0
argon2-cffi==25.1.0
argon2-cffi-bindings==25.1.0
asttokens==3.0.0
attrs==25.3.0
backcall==0.2.0
beautifulsoup4==4.13.5
bleach==6.2.0
certifi==2025.8.3
cffi==2.0.0
charset-normalizer==3.4.3
click==8.3.0
decorator==5.2.1
defusedxml==0.7.1
docopt==0.6.2
exceptiongroup==1.3.0
executing==2.2.1
fastapi==0.117.1
fastjsonschema==2.21.2
h11==0.16.0
httpcore==1.0.9
httpx==0.28.1
idna==3.10
ipython==8.12.3
jedi==0.19.2
Jinja2==3.1.6
jsonschema==4.25.1
jsonschema-specifications==2025.9.1
jupyter_client==8.6.3
jupyter_core==5.8.1
jupyterlab_pygments==0.3.0
MarkupSafe==3.0.2
matplotlib-inline==0.1.7
minio==7.2.16
mistune==3.1.4
nbclient==0.10.2
nbconvert==7.16.6
nbformat==5.10.4
ollama==0.5.4
packaging==25.0
pandocfilters==1.5.1
parso==0.8.5
pexpect==4.9.0
pickleshare==0.7.5
pipreqs==0.5.0
platformdirs==4.4.0
prompt_toolkit==3.0.52
ptyprocess==0.7.0
pure_eval==0.2.3
pycparser==2.23
pycryptodome==3.23.0
pydantic==2.11.9
pydantic_core==2.33.2
Pygments==2.19.2
python-dateutil==2.9.0.post0
python-dotenv==1.1.1
pyzmq==27.1.0
referencing==0.36.2
requests==2.32.5
rpds-py==0.27.1
six==1.17.0
sniffio==1.3.1
soupsieve==2.8
stack-data==0.6.3
starlette==0.48.0
tinycss2==1.4.0
tornado==6.5.2
traitlets==5.14.3
typing-inspection==0.4.1
typing_extensions==4.15.0
urllib3==2.5.0
uvicorn==0.37.0
wcwidth==0.2.14
webencodings==0.5.1
yarg==0.1.9



# MinIO/S3 settings
MINIO_ENDPOINT=""
MINIO_ACCESS_KEY=""
MINIO_SECRET_KEY=""
MINIO_BUCKET_NAME=""
MINIO_SECURE="true"
MINIO_REGION=""
MINIO_SAMPLE_FRACTION="0.3"

# Ollama settings
OLLAMA_HOST=""
OLLAMA_MODEL="qwen2.5:32b"
OLLAMA_TEMPERATURE="0.2"
OLLAMA_TOP_P="0.9"
OLLAMA_NUM_PREDICT_PAIR="5096"
OLLAMA_NUM_PREDICT_FINAL="34048"

# Document processing
OUTPUT_FILE="./end_summarize.txt"
ALLOWED_EXTENSIONS=".txt,.md"
MAX_CHUNK_SIZE="5000"
CHUNK_OVERLAP="200"
MAX_WORKERS="4"
SHUFFLE_CHUNKS="false"

# Summary settings
FINAL_STYLE="narrative"
TARGET_BULLETS_PAIR="40"
TARGET_BULLETS_FINAL="120"
MIN_FINAL_SENTENCES="15"

SYSTEM_PROMPT="Ты — профессиональный аналитик данных и экспертный ассистент по обработке информации. Твоя задача — анализировать предоставленные тексты, извлекать конкретные факты и структурировать их в четком формате.Добавь аннотацию к документам. Ты должен быть точен и избегать додумывания. Нужно написать обзац с общей информацией о документах.  Убедитесь, что вы следуете правилу 80/20: 80% основной ценности, используя 20% или меньше объема текста.\n\n**ОБЩИЕ ИНСТРУКЦИИ ДЛЯ ВСЕХ ЗАДАЧ:**\n1.  **Язык:** Всегда отвечай строго на русском языке, кроме контрактных данных и важной информации, названия и так далее.\n2.  **Точность:** Извлекай и перефразируй информацию только из предоставленного текста. Если чего-то нет — не придумывай. Для отсутствующей информации используй пометку «Не обнаружено».\n3.  **Фокус на данные:** В приоритете — извлечение конкретных данных: имен, дат, сумм, контактов, технических деталей - их переводить не надо\n4.  **Структура:** Поддерживай четкую структуру ответа, используй маркированные списки для перечислений.\n5.  **Контекст:** Учитывай общий контекст документа (например, «договор», «отчет», «письмо»), даже если анализируешь его часть. ОТВЕЧАЙ ТОЛЬКО НА РУССКОМ ЯЗЫКЕ!, кроме чувчтвительной информации."

MERGE_PROMPT="[ЗАДАЧА]: Объедини два представленных ниже фрагмента в один структурированный суммаризированный документ. Ты не должен ничего додумывать. Твоя цель — сохранить ВСЮ критически важную фактологическую информацию из обоих фрагментов, убрав воду и повторения. Добавь аннотацию к документам. Нужно написать общий абзац для обработанных документов. Убедитесь, что вы следуете правилу 80/20: 80% основной ценности, используя 20% или меньше объема текста.\n\n**ИНСТРУКЦИЯ ПО СЛИЯНИЮ:**\n1.  **Синтез, а не перечисление:** Не пересказывай фрагменты по отдельности («В первом тексте... во втором...»). Объедини информацию в единое связное резюме.\n2.  **Приоритет фактов:** В первую очередь сохрани:\n    *   **Конкретные данные:** Имена, фамилии, названия компаний, даты, сроки, суммы денег, номера (договоров, счетов, телефонов).\n    *   **Контактную информацию:** email, адреса, телефоны.\n    *   **Утверждения и выводы:** Ключевые тезисы, решения, проблемы, рекомендации.\n3.  **Структура результата:** Твой ответ должен быть готов к следующему циклу объединения. Излагай информацию плотно и структурированно, используя краткие пункты и списки где это уместно.\n4.  **Общий контекст:** Если оба фрагмента явно относятся к одному документу (например, это две части одного договора), отрази это в суммаризации (напр., «В договоре между X и Y...»).\n\nВ результате должен получиться сжатый, но насыщенный фактами текст на русском языке. ОТВЕЧАЙ ТОЛЬКО НА РУССКОМ ЯЗЫКЕ!, кроме чувчтвительной информации."

FINAL_PROMPT="[ЗАДАЧА]: На основе предоставленных промежуточных суммаризаций создай итоговый, исчерпывающий отчет по всему документу (или набору документов). Это финальная версия, которая должна содержать всю самую ценную информация для пользователя.Убедитесь, что вы следуете правилу 80/20: 80% основной ценности, используя 20% или меньше объема текста.\n\n**ИНСТРУКЦИЯ ДЛЯ ФИНАЛЬНОГО ОТЧЕТА:**\n1.  **Структура:** Представь информацию в четко структурированном виде. Используй следующие разделы:\n    *   **Общая характеристика документа:** Тип, цель, основная тема.\n    *   **Ключевые субъекты:** Основные лица, организации, их роли и взаимосвязи.\n    *   **Извлеченные данные:** Списком все конкретные данные: контакты, даты, финансовые суммы, номера, прочая важная конкретика.\n    *   **Содержательная summary:** Основные выводы, заключения, выявленные проблемы, возможности и рекомендации.\n2.  **Полнота:** Это последний этап, поэтому убедись, что ни одна важная деталь из промежуточных шагов не утеряна.\n3.  **Ясность:** Излагай информацию четко, кратко и максимально информативно. Избегай двусмысленностей.\n\nИтогом должен быть профессиональный отчет, по которому пользователь сможет понять все ключевые аспекты исходного документа. ОТВЕЧАЙ ТОЛЬКО НА РУССКОМ ЯЗЫКЕ!, кроме чувчтвительной информации. Добавь аннотацию к документам."
